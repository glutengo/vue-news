query getPosts($page: Int, $size: Int, $sort: String, $category: Int) {
    result: getPosts(page: $page, size: $size, sort: $sort, category: $category) {
        edges {
            node {
                ...ListPost
            }
        }
        totalCount
    }
}

query getPost($id: Int!) {
    result: getPost(id: $id) {
        ...DetailPost
    }
}

mutation deletePost($id: Int!) {
    result: deletePost(id: $id)
}

mutation createPost($post: CreatePostArgs!) {
    result: createPost(post: $post) {
        ...DetailPost
    }
}

mutation updatePost($post: UpdatePostArgs!) {
    result: updatePost(post: $post) {
        ...DetailPost
    }
}

fragment BasePost on Post {
    id
    title
    coverImageUrl
}

fragment PostRelations on Post {
    author {
        id
        login
    }
    category {
        id
        name
    }
}

fragment DetailPost on Post {
    ...BasePost
    ...PostRelations
    content
}

fragment ListPost on Post {
    ...BasePost
    ...PostRelations
    excerpt: content(length: 50)
}
